## 버전 1.0

### 목표

성능은 고려하지 않으며 최소한의 기능을 최대한 간단하게 작성한다.

### 기능

-   좌석도 생성/조회
-   좌석 상태 조회
-   좌석 상태(미판매/선점/판매) 업데이트

### 설계

설계 의도를 설명한다.

#### create Command와 domain의 분리

router.ts와 domain.ts에 Seat/Row/Block이 정의되어 있다. <br>
router의 Seat 등에는 id가 없다는 것이 차이다.<br>
서로 유사한 구조임에도 분리한 것은 그것의 도메인이 다르기 때문이다.<br>
서로 비슷한 것은 우연일 뿐이다. 만약 생성 할 때 단순히 Block/Row/Seat의 개수만을 지정한다면 어떨까?
'좌석도 생성 요청'과 '좌석도 조회'는 서로 다른 작업이다. 둘이 유사한 부분이 있다 하더라도 분리하는 것이 옳다.
단, Region처럼 두 부분에서 공유하는 타입도 존재한다.
이것은 '영역'이라는 개념은 생성/조회 모두에서 동일하기 때문이다.

## 버전 2.0

### 최적화 전략

-   문자열 기반의 ID를 크기가 작은 숫자로 변경.
-   Seat는 Flyweight 패턴으로 구현
-   좌석 상태는 11110002222 와 같이 일련의 문자로 표현, 이럴 경우 10만 좌석의 경우 100KB 필요함.
-   11110002222는 bit로 표현 가능. hold = 11110000000, sold = 00000001111, 이럴 경우 크기가 1/4로 줄어든다. 25KB

seatId = blockIndex \* 1000 \* 1000 + rowIndex \* 1000 + seatIndex
